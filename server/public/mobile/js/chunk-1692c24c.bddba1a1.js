(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1692c24c"],{"034d":function(t,s,e){"use strict";var o=e("b7a3"),n=e.n(o);n.a},1980:function(t,s,e){},2909:function(t,s,e){"use strict";e.d(s,"a",(function(){return r}));var o=e("6b75");function n(t){if(Array.isArray(t))return Object(o["a"])(t)}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("d3b7"),e("3ca3"),e("ddb0");function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var i=e("06c5");function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){return n(t)||c(t)||Object(i["a"])(t)||a()}},4662:function(t,s,e){"use strict";e("68ef"),e("a71a"),e("9d70"),e("3743"),e("09fe"),e("4d75"),e("e3b3"),e("8270"),e("786d"),e("504b")},"5ccd":function(t,s,e){t.exports=e.p+"img/bargain_top_bg.d33dd6a9.png"},8421:function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods-bargain-contain"},[t._m(0),e("div",{staticClass:"goods-list"},[e("div",{staticClass:"goods-item row bg-white",on:{click:function(s){t.showSpec=!0}}},[e("van-image",{staticClass:"goods-img mr10",attrs:{radius:"6px"}}),t._m(1),e("button",{staticClass:"btn white"},[t._v("发起砍价")])],1)]),e("goods-spec",{attrs:{show:t.showSpec,"show-add":1==t.popupType,"show-buy":2==t.popupType,"show-bargain":!0,goods:t.goodsDetail},on:{close:function(s){t.showSpec=!1},change:t.onChangeSpec,addcart:t.onAddCart,buynow:t.onBuyNow}})],1)},n=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"header"},[o("img",{attrs:{src:e("5ccd")}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods-info"},[e("div",{staticClass:"goods-name two-txt-cut nr"},[t._v("控油细致面膜21片装 护肤品 补水面膜清补水面膜清洁面膜洁面膜")]),e("div",{staticClass:"xs mt5 primary"},[t._v("最低可砍至￥1.00")]),e("div",{staticClass:"xs mt5 muted"},[t._v("原价 ¥69.30")])])}],c=e("f013"),i={name:"goodsBargain",components:{GoodsSpec:c["a"]},data:function(){return{popupType:"",goodsDetail:{},showSpec:!1,showBargain:!0}},methods:{onChangeSpec:function(){},onAddCart:function(){},onBuyNow:function(){}}},a=i,r=(e("034d"),e("2877")),d=Object(r["a"])(a,o,n,!1,null,"b013fb56",null);s["default"]=d.exports},a15b:function(t,s,e){"use strict";var o=e("23e7"),n=e("44ad"),c=e("fc6a"),i=e("a640"),a=[].join,r=n!=Object,d=i("join",",");o({target:"Array",proto:!0,forced:r||!d},{join:function(t){return a.call(c(this),void 0===t?",":t)}})},b7a3:function(t,s,e){},c740:function(t,s,e){"use strict";var o=e("23e7"),n=e("b727").findIndex,c=e("44d2"),i=e("ae40"),a="findIndex",r=!0,d=i(a);a in[]&&Array(1)[a]((function(){r=!1})),o({target:"Array",proto:!0,forced:r||!d},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),c(a)},d81f:function(t,s,e){"use strict";var o=e("1980"),n=e.n(o);n.a},f013:function(t,s,e){"use strict";var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("van-popup",{staticClass:"spec-popup",attrs:{closeable:"",round:"",position:"bottom"},on:{close:function(s){return t.$emit("close")}},model:{value:t.showsepc,callback:function(s){t.showsepc=s},expression:"showsepc"}},[e("div",{staticClass:"header row"},[e("div",{staticClass:"goods-img mr10",on:{click:function(s){return t.previewImage(t.checkedGoods.image)}}},[e("van-image",{attrs:{width:"100%",height:"100%",src:t.checkedGoods.image}})],1),e("div",{staticClass:"goods-info"},[e("div",{staticClass:"primary xxl"},[e("price-slice",{attrs:{showSubscript:!0,price:t.checkedGoods.price,weight:700,"first-class":"first-price","second-class":"xxl"}})],1),e("div",{staticClass:"sm"},[t._v("库存："+t._s(t.checkedGoods.stock)+"件")]),e("div",{staticClass:"sm"},[e("span",[t._v("已选择："+t._s(t.checkedGoods.spec_value_str)+"，"+t._s(t.goodsNum)+"件")])])])]),e("div",{staticClass:"main"},[e("div",{staticClass:"scroll-wrap hidden-scrollbar"},[e("div",{staticClass:"spec-list"},t._l(t.specList,(function(s){return e("div",{key:s.id,staticClass:"spec"},[e("div",{staticClass:"name mb10"},[t._v(t._s(s.name))]),e("div",{staticClass:"row wrap"},t._l(s.spec_value,(function(o){return e("div",{key:o.id,class:["spec-item","br60","sm",{checked:o.checked}],on:{click:function(e){return t.choseSpecItem(s.id,o.id)}}},[t._v(t._s(o.value))])})),0)])})),0)]),e("div",{staticClass:"good-num row-between ml10 mr10"},[e("div",{staticClass:"label"},[t._v("数量")]),e("van-stepper",{attrs:{value:t.goodsNum,min:1,max:t.checkedGoods.stock,"input-class":"input","plus-class":"plus","input-width":"45px","button-size":"29px","minus-class":"minus"},on:{change:t.onChange}})],1)]),e("div",{staticClass:"footer row-between bg-white"},[t.showAdd?e("button",{staticClass:"add-cart br60 white btn",attrs:{size:"lg"},on:{click:function(s){return t.onClick("addcart")}}},[t._v("加入购物车")]):t._e(),t.showBuy?e("button",{staticClass:"bg-primary br60 white btn",attrs:{size:"lg"},on:{click:function(s){return t.onClick("buynow")}}},[t._v("立即购买")]):t._e(),t.showBargain?e("button",{staticClass:"bg-primary br60 white btn",attrs:{size:"lg"},on:{click:function(s){return t.onClick("bargain")}}},[t._v(" 确定 ")]):t._e()])])},n=[],c=(e("c740"),e("4160"),e("a15b"),e("159b"),e("2909")),i=(e("4662"),e("28a2")),a={name:"GoodsSpec",components:{},props:{show:{type:Boolean},goods:{type:Object,default:function(){}},showAdd:{type:Boolean,default:!0},showBuy:{type:Boolean,default:!0},showBargain:{type:Boolean,default:!1}},data:function(){return{checkedGoods:{},specList:[],goodsNum:1,showsepc:!1}},created:function(){},methods:{onClick:function(t){var s=this.checkedGoods,e=this.goodsNum;s.goodsNum=e,this.$emit(t,s)},onChange:function(t){this.goodsNum=t},previewImage:function(t){Object(i["a"])([t])},choseSpecItem:function(t,s){var e=this.specList;e.forEach((function(e){e.spec_value&&e.id==t&&e.spec_value.forEach((function(t){t.checked=0,t.id==s&&(t.checked=1)}))})),this.specList=Object(c["a"])(e)}},watch:{show:{immediate:!0,handler:function(t){this.showsepc=t}},goods:{immediate:!0,handler:function(t,s){var e=t.goods_spec||[],o=t.goods_item||[];e.forEach((function(t){t.spec_value&&t.spec_value.forEach((function(t,s){t.checked=0==s?1:0}))})),this.specList=e,this.checkedGoods=o.length?o[0]:{}}},specList:function(t){var s=this.goods.goods_item,e=[];if(t.forEach((function(t){t.spec_value&&t.spec_value.forEach((function(t){t.checked&&e.push(t.id)}))})),e.length){var o=e.join(","),n=s.findIndex((function(t){return t.spec_value_ids==o}));-1!=n&&(this.checkedGoods=s[n],this.$emit("change",s[n]))}}}},r=a,d=(e("d81f"),e("2877")),u=Object(d["a"])(r,o,n,!1,null,"92890416",null),l=u.exports;s["a"]=l}}]);
//# sourceMappingURL=chunk-1692c24c.bddba1a1.js.map