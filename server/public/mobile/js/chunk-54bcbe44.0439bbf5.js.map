{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/vant/es/image-preview/style/index.js","webpack:///./src/assets/images/goods_null.png","webpack:///./src/views/user/userEvaluate.vue?e4c5","webpack:///./src/views/user/userEvaluate.vue?da00","webpack:///src/views/user/userEvaluate.vue","webpack:///./src/views/user/userEvaluate.vue?2a5f","webpack:///./src/views/user/userEvaluate.vue"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","isEmpty","_e","_v","_s","percent","_l","item","index","key","class","type","id","on","$event","onChangType","name","count","finished","staticStyle","attrs","error","$getCommentList","model","value","callback","$$v","loading","expression","avatar","nickname","primaryColor","goods_comment","create_time","spec_value_str","comment","image","imgitem","imgindex","previewImg","reply","staticRenderFns","component"],"mappings":"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","file":"js/chunk-54bcbe44.0439bbf5.js","sourcesContent":["import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../image/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../../swipe/index.css';\nimport '../../swipe-item/index.css';\nimport '../index.css';","module.exports = __webpack_public_path__ + \"img/goods_null.d774c28d.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userEvaluate.vue?vue&type=style&index=0&id=6feea286&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-evaluate\"},[(!_vm.isEmpty)?_c('div',{staticClass:\"header bg-white\"},[_c('div',{staticClass:\"title xs row\"},[_c('div',{staticClass:\"lighter mr10\"},[_vm._v(\"商品好评率\")]),_c('div',{staticClass:\"primary\"},[_vm._v(_vm._s(this.percent))])]),_c('div',{staticClass:\"tab row\"},[_vm._l((_vm.categoryList),function(item,index){return [(item.count)?_c('div',{key:index,class:['tab-item','xs' ,'mr5', 'br60', 'mb10', _vm.type == item.id ?  'bg-primary white' : 'bg-gray' ],on:{\"click\":function($event){return _vm.onChangType(item.id)}}},[_vm._v(_vm._s(item.name)+\"(\"+_vm._s(item.count)+\")\")]):_vm._e()]})],2)]):_vm._e(),_c('div',{staticClass:\"main\"},[(_vm.isEmpty && _vm.finished)?_c('div',{staticClass:\"column-center\",staticStyle:{\"padding-top\":\"100px\"}},[_c('img',{staticClass:\"img-null\",attrs:{\"src\":require(\"@A/images/goods_null.png\")}}),_c('span',{staticClass:\"lighter\"},[_vm._v(\"暂无评价\")])]):_c('van-list',{attrs:{\"finished\":_vm.finished,\"finishedText\":\"没有更多了\",\"error\":_vm.error},on:{\"load\":_vm.$getCommentList},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{staticClass:\"evaluation-list bg-white\"},_vm._l((_vm.commentList),function(item,index){return _c('div',{key:index,staticClass:\"evaluation-item\"},[_c('div',{staticClass:\"user-info row\"},[_c('img',{staticClass:\"avatar mr10\",attrs:{\"src\":item.avatar}}),_c('div',{staticClass:\"user-name sm mr10\"},[_vm._v(_vm._s(item.nickname))]),_c('van-rate',{attrs:{\"size\":\"16px\",\"color\":_vm.primaryColor,\"readonly\":\"\",\"value\":item.goods_comment}})],1),_c('div',{staticClass:\"muted xs mt10 row\"},[_c('div',{staticClass:\"mr10\"},[_vm._v(_vm._s(item.create_time))]),_c('div',[_vm._v(_vm._s(item.spec_value_str))])]),(item.comment)?_c('div',{staticClass:\"dec mt10\",staticStyle:{\"word-wrap\":\"break-word\"}},[_vm._v(_vm._s(item.comment))]):_vm._e(),(item.image.length)?_c('div',{staticClass:\"img mt10 row\",staticStyle:{\"flex-wrap\":\"wrap\"}},_vm._l((item.image),function(imgitem,imgindex){return _c('div',{key:imgindex,staticClass:\"img-item mr10 mb10\",on:{\"click\":function($event){return _vm.previewImg(imgindex, item.image)}}},[_c('van-image',{staticClass:\"goods-img\",attrs:{\"width\":\"2.13333rem\",\"fit\":\"cover\",\"height\":\"2.13333rem\",\"lazy-load\":\"\",\"src\":imgitem}})],1)}),0):_vm._e(),(item.reply)?_c('div',{staticClass:\"seller-recall-container bg-gray mt10\"},[_c('div',{staticClass:\"lighter nr\",staticStyle:{\"word-wrap\":\"break-word\"}},[_vm._v(\" 商家回复：\"),_c('span',{staticClass:\"normal two-txt-cut\"},[_vm._v(_vm._s(item.reply))])])]):_vm._e()])}),0)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// +----------------------------------------------------------------------\n// | LikeShop100%开源免费商用电商系统\n// +----------------------------------------------------------------------\n// | 欢迎阅读学习系统程序代码，建议反馈是我们前进的动力\n// | 开源版本可自由商用，可去除界面版权logo\n// | 商业版本务必购买商业授权，以免引起法律纠纷\n// | 禁止对系统程序代码以任何目的，任何形式的再发布\n// | Gitee下载：https://gitee.com/likemarket/likeshopv2\n// | 访问官网：https://www.likemarket.net\n// | 访问社区：https://home.likemarket.net\n// | 访问手册：http://doc.likemarket.net\n// | 微信公众号：好象科技\n// | 好象科技开发团队 版权所有 拥有最终解释权\n// +----------------------------------------------------------------------\n// | Author: LikeShopTeam\n// +----------------------------------------------------------------------\n\n\n\n<template>\n    <div class=\"user-evaluate\">\n        <div class=\"header bg-white\" v-if=\"!isEmpty\">\n            <div class=\"title xs row\">\n                <div class=\"lighter mr10\">商品好评率</div>\n                <div class=\"primary\">{{this.percent}}</div>\n            </div>\n            <div class=\"tab row\">\n                <template v-for=\"(item, index) in categoryList\">\n                    <div\n                        :class=\"['tab-item','xs' ,'mr5', 'br60', 'mb10', type == item.id ?  'bg-primary white' : 'bg-gray' ]\"\n                        v-if=\"item.count\"\n                        :key=\"index\"\n                        @click=\"onChangType(item.id)\"\n                    >{{item.name}}({{item.count}})</div>\n                </template>\n            </div>\n        </div>\n        <div class=\"main\">\n            <div v-if=\"isEmpty && finished\" class=\"column-center\" style=\"padding-top: 100px\">\n                <img class=\"img-null\" src=\"@A/images/goods_null.png\" />\n                <span class=\"lighter\">暂无评价</span>\n            </div>\n            <van-list\n                v-else\n                v-model=\"loading\"\n                :finished=\"finished\"\n                finishedText=\"没有更多了\"\n                :error=\"error\"\n                @load=\"$getCommentList\"\n            >\n                <div class=\"evaluation-list bg-white\">\n                    <div class=\"evaluation-item\" v-for=\"(item, index) in commentList\" :key=\"index\">\n                        <div class=\"user-info row\">\n                            <img class=\"avatar mr10\" :src=\"item.avatar\" />\n                            <div class=\"user-name sm mr10\">{{item.nickname}}</div>\n                            <van-rate\n                                size=\"16px\"\n                                :color=\"primaryColor\"\n                                readonly\n                                :value=\"item.goods_comment\"\n                            />\n                        </div>\n                        <div class=\"muted xs mt10 row\">\n                            <div class=\"mr10\">{{item.create_time}}</div>\n                            <div>{{item.spec_value_str}}</div>\n                        </div>\n                        <div v-if=\"item.comment\" class=\"dec mt10\" style=\"word-wrap:break-word;\">{{item.comment}}</div>\n                        <div class=\"img mt10 row\" style=\"flex-wrap: wrap;\" v-if=\"item.image.length\">\n                            <div\n                                class=\"img-item mr10 mb10\"\n                                v-for=\"(imgitem, imgindex) in item.image\"\n                                :key=\"imgindex\"\n                                @click=\"previewImg(imgindex, item.image)\"\n                            >\n                                <van-image\n                                    width=\"2.13333rem\"\n                                    fit=\"cover\"\n                                    height=\"2.13333rem\"\n                                    lazy-load\n                                    class=\"goods-img\"\n                                    :src=\"imgitem\"\n                                />\n                            </div>\n                        </div>\n                        <div class=\"seller-recall-container bg-gray mt10\" v-if=\"item.reply\">\n                            <div class=\"lighter nr\" style=\"word-wrap:break-word;\">\n                                商家回复：<span class=\"normal two-txt-cut\">{{item.reply}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </van-list>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getCommentList, getCommentCategory } from \"@/api/store\";\nimport { ImagePreview } from \"vant\";\nexport default {\n    name: \"userEvaluate\",\n    data() {\n        return {\n            commentList: [],\n            categoryList: [],\n            percent: \"\",\n            isEmpty: true,\n            type: \"\",\n            loading: true,\n            finished: false,\n            error: false,\n            page: 1\n        };\n    },\n    async created() {\n        this.id = this.$route.query.id;\n        await this.$getCommentCategory();\n        this.$getCommentList();\n    },\n    methods: {\n        onChangType(id) {\n            let { type } = this;\n            if (id == type) return;\n            this.type = id;\n            this.page = 1;\n            this.commentList = [];\n            this.finished = false;\n            this.$nextTick(() => this.$getCommentList());\n        },\n        $getCommentCategory() {\n            return new Promise((resolve) => {\n                getCommentCategory(this.id).then((res) => {\n                    let {\n                        code,\n                        data: { comment, percent },\n                    } = res;\n                    if (code == 1) {\n                        this.categoryList = comment;\n                        this.percent = percent;\n                        this.type = comment[0].id;\n                        this.$nextTick(() => resolve());\n                    }\n                });\n            });\n        },\n        $getCommentList() {\n            let { page, type, commentList, finished } = this;\n            this.loading = true;\n            if (finished) return;\n            getCommentList({\n                id: type,\n                goods_id: this.id,\n                page_no: page,\n            }).then((res) => {\n                if (res.code == 1) {\n                    this.loading = false;\n                    let { list, more } = res.data;\n                    commentList.push(...list);\n                    this.commentList = commentList;\n                    this.page = ++page;\n                    console.log(this.commentList)\n                    this.$nextTick(() => {\n                        if (!more) {\n                            this.finished = true;\n                        }\n                        if (commentList.length <= 0) {\n                            this.isEmpty = true;\n                            return;\n                        } else {\n                            this.isEmpty = false;\n                        }\n                    });\n                } else {\n                    this.error = true;\n                }\n            });\n        },\n        previewImg(index, images) {\n            ImagePreview({\n                images: images,\n                startPosition: index\n            });\n        }\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-evaluate {\n    padding-top: 10px;\n    text-align: left;\n    .header {\n        .title {\n            padding: 12px 12px;\n            border-bottom: $--border-base;\n        }\n        .tab {\n            padding: 15px 0 5px 12px;\n            flex-wrap: wrap;\n            .tab-item {\n                padding: 4px 14px;\n            }\n        }\n    }\n    .evaluation-item {\n        padding: 10px;\n        &:not(:last-of-type) {\n            border-bottom: $--border-base;\n        }\n        .avatar {\n            width: 30px;\n            height: 30px;\n            border-radius: 50%;\n        }\n        .seller-recall-container {\n            padding: 12px 10px;\n            border-radius: 6px;\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userEvaluate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userEvaluate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userEvaluate.vue?vue&type=template&id=6feea286&scoped=true&\"\nimport script from \"./userEvaluate.vue?vue&type=script&lang=js&\"\nexport * from \"./userEvaluate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userEvaluate.vue?vue&type=style&index=0&id=6feea286&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6feea286\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}