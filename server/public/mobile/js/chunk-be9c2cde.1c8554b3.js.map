{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/assets/images/icon_shop.png","webpack:///./src/utils/type.js","webpack:///./src/views/user/postSale.vue?f13f","webpack:///./src/assets/images/goods_null.png","webpack:///./src/views/user/postSale.vue?a312","webpack:///./src/components/PostSaleList/PostSaleList.vue?c391","webpack:///src/components/PostSaleList/PostSaleList.vue","webpack:///./src/components/PostSaleList/PostSaleList.vue?6dfa","webpack:///./src/components/PostSaleList/PostSaleList.vue","webpack:///./src/components/PostSaleList/index.js","webpack:///src/views/user/postSale.vue","webpack:///./src/views/user/postSale.vue?986f","webpack:///./src/views/user/postSale.vue","webpack:///./src/components/PostSaleList/PostSaleList.vue?e9dd","webpack:///./src/views/user/applyAfterSales.vue?8f35","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/assets/images/arrow_right.png","webpack:///./src/views/user/applyAfterSales.vue?1302","webpack:///src/views/user/applyAfterSales.vue","webpack:///./src/views/user/applyAfterSales.vue?7f39","webpack:///./src/views/user/applyAfterSales.vue"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","module","exports","orderType","ALL","PAY","DELIVERY","FINISH","CLOSE","payWayType","wechat","AfterSaleType","NORMAL","HANDLING","refundOPtType","ONLY_REFUND","REFUNDS","SMSType","REGISTER","FINDPWD","LOGIN","CHANGE_MOBILE","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","primaryColor","on","onChange","model","value","callback","$$v","active","expression","_l","items","index","key","name","type","_e","staticRenderFns","staticStyle","_v","finished","$getAfterSaleList","error","loading","showType","_s","time","item","goods_id","image","goods_name","goods_price","goods_num","class","after_sale","able_apply","$event","toApply","order_id","item_id","toSaleDetail","after_sale_id","type_text","status_text","desc","showDialog","directives","rawName","status","toForm","$cancelApply","hideDialog","confirmDialog","props","String","default","data","isEmpty","page","lists","afterSaleId","methods","$router","push","cleanStatus","created","mounted","component","PostSaleList","components","afterSale","isShow","$","$findIndex","findIndex","addToUnscopables","arrayMethodUsesToLength","FIND_INDEX","SKIPS_HOLES","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined","goods","spec_value","hiddenOpt","onlyRefund","_m","allRefunds","showPopup","reasonIndex","reason","remark","fileList","afterRead","onDelete","onSubmit","radioChange","hidePop","optTyle","uploadFile","$getGoodsInfo","res","code","$applyAfterSale","$applyAgain","id","refund_type","img","setTimeout","itemId","orderId","computed"],"mappings":"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","file":"js/chunk-be9c2cde.1c8554b3.js","sourcesContent":["import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAAV1BMVEUAAABgYGBoaGhlZWVlZWVkZGRkZGRmZmZmZmZlZWVlZWVmZmZmZmZmZmZmZmZlZWVlZWVmZmZmZmZlZWVlZWVlZWVlZWVmZmZmZmZlZWVlZWVmZmZmZmbUBw9cAAAAHHRSTlMAECAwP0BPUF9gb3B/gI+Qn6CvsL/Az9Df4O/wQqu59AAAAlhJREFUWMPtmN2SoyAQRkFkzM84xhhMlPP+z7kXJpNEm6Bkpra21u/KovAUNN3wgVKrVq1alSDds1ynGeATKdpGuWUSl15HuIZE1ZEAXwCfLVyWCsC87FLPi9d4OD62fnbGpCRtAWwkEJ1OyFEHtJGMsCnJb1+GMANo0srKAZdXK+d1Gti+mKwB2KfuBC6cGDXQJW8xNpjLWVIK33UOZWolDlh/HqXI7U6FmMvSCvXigEtgWuF7adpennEhp4QTF7sBSmmNhCJp5BDJYCeBDeLseqB4C6w6KRYW8Oo9cCUVbhmo5iVgC/RS5Ms3wUqqERco9UVgJwQ5VJCLwJXQDKDeBe8B9xtgGwBnvwHufmLxJLALbPJvg3+iQMTFs4Egh8FH+QwqpR3kKJ+D0+YW4KglA1yInmLcagavfJC8GlzMtHm6pWsP9M9ddzcr+Uw+fFvMTz0+myr5CKF/KHXzYMHbe5xtC+C7YdCb51GItqQeTP/HcGZvrtjK+AG9y7XS+a4FwBe6uTrur1wppT6G7kXYwwKn0+ly/fRbpa7kR3mjlNrf2/vIhaEaA5xRSintxs1DXup69kXEdo/9uu+OxSP6fP8/qyejCFro5vZ79dTPlM4D3pXPv+tt4wF8XcRdmN1bu8h0WvM376V5lvJblse4LX3CXWH78gZyK7+Ey4KL3l1KYUddwSt4Ba/g/xbcRsGFdFWLK/6WZJOem/ahF4XR28Bl4aFre+A86830a5PP1u4w6zlWd2lvpufovAQLOIc7w+BMLOCcN955xslUbpHKJI+zatW/oD8xCIyQn8NWrwAAAABJRU5ErkJggg==\"","// +----------------------------------------------------------------------\n// | LikeShop有特色的全开源社交分销电商系统\n// +----------------------------------------------------------------------\n// | 欢迎阅读学习系统程序代码，建议反馈是我们前进的动力\n// | 商业用途务必购买系统授权，以免引起不必要的法律纠纷\n// | 禁止对系统程序代码以任何目的，任何形式的再发布\n// | 微信公众号：好象科技\n// | 访问官网：http://www.likemarket.net\n// | 访问社区：http://home.likemarket.net\n// | 访问手册：http://doc.likemarket.net\n// | 好象科技开发团队 版权所有 拥有最终解释权\n// +----------------------------------------------------------------------\n// | Author: LikeShopTeam\n// +----------------------------------------------------------------------\n\n\n// 订单状态 \n\nexport const orderType = {\n    ALL: 'all', //全部\n    PAY: 'pay', //待付款\n    DELIVERY: 'delivery',//待收货\n    FINISH: 'finish',//待收货\n    CLOSE: 'close'//待收货\n}\n//支付方式\nexport const payWayType = {\n    wechat: 1\n}\n\n// 售后状态\nexport const AfterSaleType = {\n    // 售后申请 \n    NORMAL: 'normal',\n    // 处理中\n    HANDLING: 'apply',\n    // 已处理\n    FINISH: 'finish'\n}\n\n// 售后退款操作\nexport const refundOPtType = {\n    // 仅退款\n    ONLY_REFUND: 0,\n    // 退货退款\n    REFUNDS: 1\n}\n\nexport const SMSType = {\n    REGISTER: 'ZCYZ',\n    FINDPWD: 'ZHMM',\n    LOGIN: 'YZMDL',\n    CHANGE_MOBILE: 'BGSJHM'\n}\n\nexport const userOrderPromoteOrder = {\n    ALL: '0',\n    WAIT_RETURN: '1',\n    HANDLED: '2',\n    INVALED: '3'\n}\n\nexport const bargainCodeType = {\n    ALL: \"all\",\n    // 进行中\n    RUNNING: \"running\",\n    // 成功\n    SUCCESS: \"success\",\n    // 失败\n    FAIL: \"fail\"\n}\n\nexport const BargainStatus = {\n    NORMAL: 0,\n    SUCCESS: 1,\n    FAIL: 2\n}\n\n\nexport const FansType = {\n    ALL: 'all',\n    FIRST: 'first',\n    SECOND: 'second'\n}\n\nexport const SortType = {\n    //降序\n    DESC: \"desc\",\n    // 升序\n    ASC: \"asc\",\n    // 无排序方式\n    NONE: \"\",\n};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postSale.vue?vue&type=style&index=0&id=4f24fe21&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/goods_null.d774c28d.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-sale\"},[_c('van-tabs',{attrs:{\"line-width\":\"40\",\"color\":_vm.primaryColor,\"title-active-color\":_vm.primaryColor,\"title-inactive-color\":\"#333333\",\"sticky\":\"\"},on:{\"change\":_vm.onChange},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.afterSale),function(items,index){return _c('van-tab',{key:index,attrs:{\"title\":items.name,\"name\":items.type}},[(items.isShow)?_c('post-sale-list',{attrs:{\"showType\":items.type,\"id\":items.type}}):_vm._e()],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isEmpty)?_c('div',{staticClass:\"column-center\",staticStyle:{\"padding-top\":\"100px\"}},[_c('img',{staticClass:\"img-null\",attrs:{\"src\":require(\"@A/images/goods_null.png\")}}),_c('span',{staticClass:\"lighter\"},[_vm._v(\"暂无售后数据～\")])]):_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.$getAfterSaleList,\"error\":_vm.error},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[(_vm.showType == 'normal')?_c('div',{staticClass:\"sale-list\"},_vm._l((_vm.lists),function(items,index){return _c('div',{key:index,staticClass:\"sale-item bg-white\"},[_c('div',{staticClass:\"sale-header row\"},[_c('div',{staticClass:\"store-name nr ml5\"},[_vm._v(\"成交时间: \"+_vm._s(items.time))])]),_vm._l((items.order_goods),function(item){return _c('div',{key:item.goods_id,staticClass:\"sale-goods-item\"},[_c('div',{staticClass:\"sale-goods-show row\"},[_c('div',{staticClass:\"goods-img\"},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"radius\":\"3px\",\"lazy-load\":\"\",\"src\":item.image}})],1),_c('div',{staticClass:\"goods-desc\"},[_c('div',{staticClass:\"goods-name two-txt-cut nr\"},[_vm._v(_vm._s(item.goods_name))]),_c('div',{staticClass:\"row-between mt10\"},[_c('price-slice',{attrs:{\"showSubscript\":true,\"subScriptClass\":\"sm\",\"firstClass\":\"md\",\"secondClass\":\"md\",\"weight\":\"bold\",\"price\":item.goods_price}}),_c('div',{staticClass:\"nr\"},[_vm._v(\"x\"+_vm._s(item.goods_num))])],1)])]),_c('div',{staticClass:\"sale-footer row-end\",class:items.after_sale.able_apply == 1 ? '' : 'bottom-opacity'},[_c('div',{staticClass:\"btn row-center primary br60\",on:{\"click\":function($event){return _vm.toApply(items.order_id, item.item_id, items.after_sale.able_apply)}}},[_vm._v(\"申请售后\")])])])})],2)}),0):(_vm.showType == 'apply')?_c('div',{staticClass:\"sale-list\"},_vm._l((_vm.lists),function(items,index){return _c('div',{key:index,staticClass:\"sale-item bg-white\"},[_c('div',{on:{\"click\":function($event){return _vm.toSaleDetail(items.after_sale.after_sale_id, items.order_id)}}},[_c('div',{staticClass:\"sale-header row-between\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"store-name nr ml5 mr5\"},[_vm._v(\"申请时间: \"+_vm._s(items.time))])]),_c('div',{staticClass:\"primary nr\"},[_vm._v(_vm._s(items.after_sale.type_text))])]),_vm._l((items.order_goods),function(item){return _c('div',{key:item.goods_id,staticClass:\"sale-goods-show\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"goods-img\"},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"radius\":\"3px\",\"lazy-load\":\"\",\"src\":item.image}})],1),_c('div',{staticClass:\"goods-desc\"},[_c('div',{staticClass:\"goods-name two-txt-cut nr\"},[_vm._v(_vm._s(item.goods_name))]),_c('div',{staticClass:\"row-between mt10\"},[_c('price-slice',{attrs:{\"showSubscript\":true,\"subScriptClass\":\"sm\",\"firstClass\":\"md\",\"secondClass\":\"md\",\"weight\":\"bold\",\"price\":item.goods_price}}),_c('div',{staticClass:\"nr\"},[_vm._v(\"x\"+_vm._s(item.goods_num))])],1)])]),_c('div',{staticClass:\"sale-status mt10 row\"},[_c('div',{staticClass:\"nr\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(items.after_sale.status_text))]),_c('div',{staticClass:\"nr ml10\"},[_vm._v(_vm._s(items.after_sale.desc))])])])})],2),_c('div',{staticClass:\"sale-footer row-end\"},[_c('div',{staticClass:\"row-center normal br60 mr10 grey-btn nr\",on:{\"click\":function($event){return _vm.showDialog(items.after_sale.after_sale_id)}}},[_vm._v(\"撤销申请\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(items.after_sale.status==2),expression:\"items.after_sale.status==2\"}],staticClass:\"row-center normal br60 grey-btn nr\",on:{\"click\":function($event){return _vm.toForm(items.after_sale.after_sale_id)}}},[_vm._v(\"填写快递单号\")])])])}),0):_c('div',{staticClass:\"sale-list\"},_vm._l((_vm.lists),function(items,index){return _c('div',{key:index,staticClass:\"sale-item bg-white\",on:{\"click\":function($event){return _vm.toSaleDetail(items.after_sale.after_sale_id, items.order_id)}}},[_c('div',{staticClass:\"sale-header row-between\"},[_c('div',{staticClass:\"row\"},[_c('img',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\"},attrs:{\"src\":require(\"@A/images/icon_shop.png\")}}),_c('div',{staticClass:\"store-name nr ml5 mr5\"},[_vm._v(\"处理时间：\"+_vm._s(items.time))])]),_c('div',{staticClass:\"primary nr\"},[_vm._v(_vm._s(items.after_sale.type_text))])]),_vm._l((items.order_goods),function(item){return _c('div',{key:item.goods_id,staticClass:\"sale-goods-show\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"goods-img\"},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"lazy-load\":\"\",\"radius\":\"3px\",\"src\":item.image}})],1),_c('div',{staticClass:\"goods-desc\"},[_c('div',{staticClass:\"goods-name two-txt-cut nr\"},[_vm._v(_vm._s(item.goods_name))]),_c('div',{staticClass:\"row-between mt10\"},[_c('price-slice',{attrs:{\"showSubscript\":true,\"subScriptClass\":\"sm\",\"firstClass\":\"md\",\"secondClass\":\"md\",\"weight\":\"bold\",\"price\":item.goods_price}}),_c('div',{staticClass:\"nr\"},[_vm._v(\"x\"+_vm._s(item.goods_num))])],1)])]),_c('div',{staticClass:\"sale-status mt10 row\"},[_c('div',{staticClass:\"nr\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(items.after_sale.status_text))]),_c('div',{staticClass:\"nr ml10\"},[_vm._v(_vm._s(items.after_sale.desc))])])])})],2)}),0)]),_c('van-dialog',{attrs:{\"title\":\"提示\",\"showCancelButton\":\"\",\"message\":\"是否要撤销申请？\",\"confirm-button-color\":\"#primaryColor\"},on:{\"confirm\":_vm.$cancelApply,\"close\":_vm.hideDialog},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"isEmpty\" class=\"column-center\" style=\"padding-top: 100px\">\n      <img class=\"img-null\" src=\"@A/images/goods_null.png\" />\n      <span class=\"lighter\">暂无售后数据～</span>\n    </div>\n    <van-list\n      v-else\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"$getAfterSaleList\"\n      @error=\"error\"\n    >\n      <div class=\"sale-list\" v-if=\"showType == 'normal'\">\n        <div class=\"sale-item bg-white\" v-for=\"(items, index) in lists\" :key=\"index\">\n          <div class=\"sale-header row\">\n            <!-- <img style=\"width: 20px;height: 20px\" src=\"@A/images/icon_shop.png\" /> -->\n            <div class=\"store-name nr ml5\">成交时间: {{items.time}}</div>\n          </div>\n          <div class=\"sale-goods-item\" v-for=\"(item) in items.order_goods\" :key=\"item.goods_id\">     \n            <div class=\"sale-goods-show row\">\n                <div class=\"goods-img\">\n                <van-image width=\"100%\" height=\"100%\" radius=\"3px\" lazy-load :src=\"item.image\" />\n                </div>\n                <div class=\"goods-desc\">\n                <div class=\"goods-name two-txt-cut nr\">{{item.goods_name}}</div>\n                <div class=\"row-between mt10\">\n                    <price-slice\n                    :showSubscript=\"true\"\n                    subScriptClass=\"sm\"\n                    firstClass=\"md\"\n                    secondClass=\"md\"\n                    weight=\"bold\"\n                    :price=\"item.goods_price\"\n                    ></price-slice>\n                    <div class=\"nr\">x{{item.goods_num}}</div>\n                </div>\n                </div>\n            </div>\n            <div class=\"sale-footer row-end\" :class=\"items.after_sale.able_apply == 1 ? '' : 'bottom-opacity'\">\n                <div class=\"btn row-center primary br60\" @click=\"toApply(items.order_id, item.item_id, items.after_sale.able_apply)\">申请售后</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sale-list\" v-else-if=\"showType == 'apply'\">\n        <div class=\"sale-item bg-white\" v-for=\"(items, index) in lists\" :key=\"index\">\n            <div @click=\"toSaleDetail(items.after_sale.after_sale_id, items.order_id)\">\n                <div class=\"sale-header row-between\">\n                    <div class=\"row\">\n                    <!-- <img style=\"width: 20px;height: 20px\" src=\"@A/images/icon_shop.png\" /> -->\n                    <div class=\"store-name nr ml5 mr5\">申请时间: {{items.time}}</div>\n                    </div>\n                    <div class=\"primary nr\">{{items.after_sale.type_text}}</div>\n                </div>\n                <div class=\"sale-goods-show\" v-for=\"(item) in items.order_goods\" :key=\"item.goods_id\">\n                    <div class=\"row\">\n                    <div class=\"goods-img\">\n                        <van-image width=\"100%\" height=\"100%\" radius=\"3px\" lazy-load :src=\"item.image\" />\n                    </div>\n                    <div class=\"goods-desc\">\n                        <div class=\"goods-name two-txt-cut nr\">{{item.goods_name}}</div>\n                        <div class=\"row-between mt10\">\n                        <price-slice\n                            :showSubscript=\"true\"\n                            subScriptClass=\"sm\"\n                            firstClass=\"md\"\n                            secondClass=\"md\"\n                            weight=\"bold\"\n                            :price=\"item.goods_price\"\n                        ></price-slice>\n                        <div class=\"nr\">x{{item.goods_num}}</div>\n                        </div>\n                    </div>\n                    </div>\n                    <div class=\"sale-status mt10 row\">\n                    <div class=\"nr\" style=\"font-weight: bold;\">{{items.after_sale.status_text}}</div>\n                    <div class=\"nr ml10\">{{items.after_sale.desc}}</div>\n                    </div>\n                </div>\n            </div>\n          <div class=\"sale-footer row-end\">\n            <div class=\"row-center normal br60 mr10 grey-btn nr\" @click=\"showDialog(items.after_sale.after_sale_id)\">撤销申请</div>\n            <div\n              @click=\"toForm(items.after_sale.after_sale_id)\"\n              class=\"row-center normal br60 grey-btn nr\"\n              v-show=\"items.after_sale.status==2\"\n            >填写快递单号</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sale-list\" v-else>\n        <div class=\"sale-item bg-white\" v-for=\"(items, index) in lists\" :key=\"index\" @click=\"toSaleDetail(items.after_sale.after_sale_id, items.order_id)\">\n          <div class=\"sale-header row-between\">\n            <div class=\"row\">\n              <img style=\"width: 20px;height: 20px\" src=\"@A/images/icon_shop.png\" />\n              <div class=\"store-name nr ml5 mr5\">处理时间：{{items.time}}</div>\n            </div>\n            <div class=\"primary nr\">{{items.after_sale.type_text}}</div>\n          </div>\n          <div class=\"sale-goods-show\" v-for=\"(item) in items.order_goods\" :key=\"item.goods_id\">\n            <div class=\"row\">\n              <div class=\"goods-img\">\n                <van-image width=\"100%\" height=\"100%\" lazy-load radius=\"3px\" :src=\"item.image\" />\n              </div>\n              <div class=\"goods-desc\">\n                <div class=\"goods-name two-txt-cut nr\">{{item.goods_name}}</div>\n                <div class=\"row-between mt10\">\n                  <price-slice\n                    :showSubscript=\"true\"\n                    subScriptClass=\"sm\"\n                    firstClass=\"md\"\n                    secondClass=\"md\"\n                    weight=\"bold\"\n                    :price=\"item.goods_price\"\n                  ></price-slice>\n                  <div class=\"nr\">x{{item.goods_num}}</div>\n                </div>\n              </div>\n            </div>\n            <div class=\"sale-status mt10 row\">\n              <div class=\"nr\" style=\"font-weight: bold;\">{{items.after_sale.status_text}}</div>\n              <div class=\"nr ml10\">{{items.after_sale.desc}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </van-list>\n    <van-dialog\n      title=\"提示\"\n      v-model=\"confirmDialog\"\n      showCancelButton\n      message=\"是否要撤销申请？\"\n      confirm-button-color=\"#primaryColor\"\n      @confirm=\"$cancelApply\"\n      @close=\"hideDialog\"\n    ></van-dialog>\n  </div>\n</template>\n\n<script>\nimport { AfterSaleType } from \"@U/type\";\nimport { getAfterSaleList, cancelApply } from \"@API/user\";\nimport applyAfterSalesVue from '../../views/user/applyAfterSales.vue';\nexport default {\n  name: \"PostSaleList\",\n  props: {\n    showType: {\n      showType: String,\n      default: AfterSaleType.NORMAL,\n    },\n  },\n  data() {\n    return {\n      confirmDialog: false,\n      loading: true,\n      finished: false,\n      isEmpty: false,\n      error: false,\n      page: 1,\n      lists: [],\n      afterSaleId: -1\n    };\n  },\n  methods: {\n    toForm(id) {\n      this.$router.push({name: 'afterSalesDetailForm', query: {\n        id: id\n      }})\n    },\n    cleanStatus() {\n      this.page = 1;\n      this.lists = [];\n      this.loading = true;\n      this.finished = false;\n      this.isEmpty = false;\n      this.error = false;\n    },\n    toApply(orderId, itemId, canApply) {\n      if(canApply != 1) {\n        return;\n      }\n        this.$router.push({name: \"applyAfterSales\", query: {\n            order_id: orderId,\n            item_id: itemId\n        }})\n    },\n    toSaleDetail(afterSaleId, orderId) {\n        this.$router.push({name: \"afterSalesDetail\", query: {\n            after_sale_id: afterSaleId,\n            order_id: orderId\n        }})\n    },\n    $getAfterSaleList() {\n      this.loading = true;\n      if (this.finished == true) {\n        return;\n      }\n      getAfterSaleList({ page_no: this.page, type: this.showType }).then(\n        (res) => {\n          if (res.code == 1) {\n            this.loading = false;\n            let { list, more } = res.data;\n            this.lists.push(...list);\n            this.page ++;\n            this.$nextTick(() => {\n              if (!more) {\n                this.finished = true;\n              }\n              if (this.lists.length <= 0) {\n                this.isEmpty = true;\n                return;\n              }\n            });\n          } else {\n            this.error = true;\n          }\n        }\n      );\n    },\n    $cancelApply() {\n        cancelApply({ id: this.afterSaleId }).then((res) => {\n            if (res.code == 1) {\n                this.$toast({message: res.msg});\n                setTimeout(() => {\n                    this.$router.go(0)\n                }, 1000)\n            }\n        });\n    },\n    showDialog(afterSaleId) {\n        this.afterSaleId = afterSaleId\n        this.confirmDialog = true;\n    },\n    hideDialog() {\n        this.confirmDialog = false;\n    }\n  },\n  created() {},\n  mounted() {\n    this.$getAfterSaleList();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.sale-list {\n  .sale-item {\n    margin-top: 10px;\n    .sale-header {\n      padding: 10px 12px;\n      .store-name {\n        font-family: PingFang SC;\n        line-height: 20px;\n      }\n    }\n    .bottom-opacity {\n      opacity: 0.5;\n    }\n    .sale-goods-show {\n      padding: 10px 12px;\n      .goods-img {\n        height: 80px;\n        width: 80px;\n      }\n      .goods-desc {\n        margin-left: 12px;\n        flex: 1;\n      }\n      .sale-status {\n        padding: 10px 20px;\n        background-color: #f6f6f6;\n      }\n    }\n    .sale-footer {\n      padding: 0 12px 11px;\n      .btn {\n        padding: 5px 17px;\n        font-family: PingFang SC;\n        border: 1px solid $--color-primary;\n      }\n      .grey-btn {\n        border: 1px solid #cccccc;\n        padding: 5px 17px;\n        font-family: PingFang SC;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostSaleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostSaleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostSaleList.vue?vue&type=template&id=261405bb&scoped=true&\"\nimport script from \"./PostSaleList.vue?vue&type=script&lang=js&\"\nexport * from \"./PostSaleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostSaleList.vue?vue&type=style&index=0&id=261405bb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"261405bb\",\n  null\n  \n)\n\nexport default component.exports","// +----------------------------------------------------------------------\n// | LikeShop有特色的全开源社交分销电商系统\n// +----------------------------------------------------------------------\n// | 欢迎阅读学习系统程序代码，建议反馈是我们前进的动力\n// | 商业用途务必购买系统授权，以免引起不必要的法律纠纷\n// | 禁止对系统程序代码以任何目的，任何形式的再发布\n// | 微信公众号：好象科技\n// | 访问官网：http://www.likemarket.net\n// | 访问社区：http://home.likemarket.net\n// | 访问手册：http://doc.likemarket.net\n// | 好象科技开发团队 版权所有 拥有最终解释权\n// +----------------------------------------------------------------------\n// | Author: LikeShopTeam\n// +----------------------------------------------------------------------\n\nimport PostSaleList from \"./PostSaleList\"\n\nexport default PostSaleList","// +----------------------------------------------------------------------\n// | LikeShop100%开源免费商用电商系统\n// +----------------------------------------------------------------------\n// | 欢迎阅读学习系统程序代码，建议反馈是我们前进的动力\n// | 开源版本可自由商用，可去除界面版权logo\n// | 商业版本务必购买商业授权，以免引起法律纠纷\n// | 禁止对系统程序代码以任何目的，任何形式的再发布\n// | Gitee下载：https://gitee.com/likemarket/likeshopv2\n// | 访问官网：https://www.likemarket.net\n// | 访问社区：https://home.likemarket.net\n// | 访问手册：http://doc.likemarket.net\n// | 微信公众号：好象科技\n// | 好象科技开发团队 版权所有 拥有最终解释权\n// +----------------------------------------------------------------------\n// | Author: LikeShopTeam\n// +----------------------------------------------------------------------\n\n\n<template>\n  <div class=\"post-sale\">\n    <van-tabs\n      v-model=\"active\"\n      line-width=\"40\"\n      :color=\"primaryColor\"\n      :title-active-color=\"primaryColor\"\n      title-inactive-color=\"#333333\"\n      sticky\n      @change=\"onChange\"\n    >\n      <van-tab :title=\"items.name\" :name=\"items.type\" v-for=\"(items, index) in afterSale\" :key=\"index\">\n          <post-sale-list :showType=\"items.type\" v-if=\"items.isShow\" :id=\"items.type\"></post-sale-list>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n\n<script>\nimport { AfterSaleType } from '@U/type'\nimport PostSaleList from '@C/PostSaleList'\nexport default {\n  name: \"postSale\",\n  components: {\n    PostSaleList,\n  },\n  data() {\n    return {\n      active: AfterSaleType.NORMAL,\n      afterSale: [\n        {\n          name: \"售后申请\",\n          type: AfterSaleType.NORMAL,\n          isShow: true,\n        },\n        {\n          name: \"处理中\",\n          type: AfterSaleType.HANDLING,\n          isShow: false,\n        },\n        {\n          name: \"已处理\",\n          type: AfterSaleType.FINISH,\n          isShow: false,\n        },\n      ],\n    };\n  },\n  methods: {\n    onChange(name) {\n      let index = this.afterSale.findIndex(item => {\n        return item.type == name\n      });\n      if(index != -1) {\n        this.afterSale[index].isShow = true;\n      }\n    }\n  },\n  created() {},\n  mounted() {\n    let {active} = this.$route.query;\n    if(active) {\n      this.active = active\n    }\n    // this.onChange(this.active)\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\nimg {\n  width: 100%;\n  height: 100%;\n}\n.post-sale {\n  .sale-list {\n    padding: 10px 0;\n    .sale-item {\n      .sale-header {\n        padding: 10px 12px;\n        .store-name {\n          font-weight: bold;\n          font-family: PingFang SC;\n          line-height: 20px;\n        }\n      }\n      .sale-goods-show {\n        padding: 10px 12px;\n        .goods-img {\n          height: 80px;\n          width: 80px;\n        }\n        .goods-desc {\n          margin-left: 12px;\n        }\n        .sale-status {\n          padding: 10px 30px;\n          background-color: #f6f6f6;\n        }\n      }\n      .sale-footer {\n        padding: 0 12px 11px;\n        .btn {\n          padding: 5px 17px;\n          font-family: PingFang SC;\n          border: 1px solid $--color-primary;\n        }\n        .grey-btn {\n          border: 1px solid #cccccc;\n          padding: 5px 17px;\n          font-family: PingFang SC;\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postSale.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postSale.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./postSale.vue?vue&type=template&id=4f24fe21&scoped=true&\"\nimport script from \"./postSale.vue?vue&type=script&lang=js&\"\nexport * from \"./postSale.vue?vue&type=script&lang=js&\"\nimport style0 from \"./postSale.vue?vue&type=style&index=0&id=4f24fe21&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f24fe21\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostSaleList.vue?vue&type=style&index=0&id=261405bb&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyAfterSales.vue?vue&type=style&index=0&id=01ca6e11&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAABd1BMVEUAAAAAAAAAAABVVVVmZmZtbW1gYGBxcXFdXV1qampiYmJ2dnZtbW1mZmZgYGBwcHBpaWljY2NxcXFmZmZtbW1oaGhvb29qampmZmZsbGxtbW1ra2twcHBubm5ra2tvb29wcHBubm5tbW1wcHBtbW1wcHBvb29tbW1vb29ubm5ycnJsbGxxcXFwcHBubm5wcHBxcXFwcHBxcXFubm5ubm5vb29wcHBvb29vb29wcHBvb29vb29vb29vb29ubm5wcHBvb29vb29vb29ubm5vb29wcHBvb29ubm5wcHBwcHBvb29vb29vb29vb29wcHBubm5wcHBvb29vb29vb29wcHBvb29ubm5vb29vb29wcHBwcHBvb29vb29wcHBwcHBwcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBwcHBwcHBvb29vb29wcHBvb29wcHBwcHBvb29wcHBwcHBvb29wcHBhabGmAAAAfHRSTlMAAQIDBQcICQsMDQ0ODxAQERISFBUWFxgZGhwfIiUmJyksLzAxMjU2Nzo6Oz1AQUJGaW94eXp7gYOEhYeIiouLjI6RlpqbnJ2doKGjpqqtsLC3vb/AwcPDxcbJy8zP0tTV19nb3N3f4uPo6evs8vPz9Pb3+Pj6+vv8/P3+O+IQPgAAAZNJREFUWMPt2MdSAkEUheFBBZVRVEAUFVTMOeeIohINmDCLOWdhYObhhem2XLm7R4uqPg/w161vMXQhSWJiYmI5uLI2Vz6m3Lx9czkEKcsbWmYLhYijE9n0x7SZPt2q6Xvx0qete2kW95rI2+2HLP0+RW5icMe5yQy9Se0JN5mjN+k4wpk0nONM6uI4k05h8qvJ23gxzOR5AmByxk0myU0M3cc4k8YrnInrL0zGcCZPI0CTYSPM5HW0iN7kmrUfASb1FyrMpOcUZ+LJdZNBI8zk1kNv0vLA2gPk5cqgwn4te8nL6ym9rAZk4nJpkH1J1IMakEYqQl22rfGbI07icomf3azuV1Pf7E9yDfLyqgLWSMM0lDBKIx2uQmnEHDANR85oyEu8vEt9s9Wn/xWgJUN26nKE3xyivln28fKOXWj8aGyhNBIBK0ojQH2z+Vtjk/pmyyJKwxJOgjQKZvm3LlpB/Uhy3+vlz+Vy8pddF/vtXrHRP0cd2Se6EqW/WZLy+mPa3TyinHmiO/uaTJKYmJjYf+wLmpv4t3Rddy0AAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"apply-after-sales\"},[_c('div',{staticClass:\"goods-info row bg-white mt10\"},[_c('div',{staticClass:\"goods-img\"},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"lazy-load\":\"\",\"radius\":\"3px\",\"src\":_vm.goods.image}})],1),_c('div',{staticClass:\"goods-desc\"},[_c('div',{staticClass:\"nr\"},[_vm._v(_vm._s(_vm.goods.goods_name))]),_c('div',{staticClass:\"muted xs mt5\"},[_vm._v(_vm._s(_vm.goods.spec_value))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hiddenOpt),expression:\"!hiddenOpt\"}],staticClass:\"opt-box mt10\"},[_c('div',{staticClass:\"opt-item row-between border-line\",on:{\"click\":_vm.onlyRefund}},[_vm._m(0),_c('img',{staticClass:\"arrow\",attrs:{\"src\":\"/images/arrow_right.png\"}})]),_c('div',{staticClass:\"opt-item row-between\",on:{\"click\":_vm.allRefunds}},[_vm._m(1),_c('img',{staticClass:\"arrow\",attrs:{\"src\":\"/images/arrow_right.png\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hiddenOpt),expression:\"hiddenOpt\"}],staticClass:\"after-sales-form-container bg-white mt10\"},[_c('div',{staticClass:\"after-sales-item row-between\"},[_c('div',{staticClass:\"nr\"},[_vm._v(\"数量\")]),_c('div',{staticClass:\"mr10 nr\"},[_vm._v(_vm._s(_vm.goods.goods_num))])]),_c('div',{staticClass:\"after-sales-item row-between\"},[_c('div',{staticClass:\"nr\"},[_vm._v(\"退款金额\")]),_c('div',{staticClass:\"mr10\"},[_c('price-slice',{attrs:{\"showSubscript\":true,\"subScriptClass\":\"nr\",\"color\":_vm.primaryColor,\"price\":_vm.goods.goods_price,\"firstClass\":\"nr\",\"secondClass\":\"sm\"}})],1)]),_c('div',{staticClass:\"after-sales-item row-between\",on:{\"click\":function($event){_vm.showPopup = true}}},[_c('div',{staticClass:\"nr\"},[_vm._v(\"退款原因\")]),_c('div',{staticClass:\"mr10 nr row\"},[_c('div',{staticClass:\"mr5\",class:{'muted': _vm.reasonIndex == -1}},[_vm._v(_vm._s(_vm.reasonIndex == -1 ? '请选择' : _vm.reason[_vm.reasonIndex]))]),_vm._m(2)])]),_c('div',{staticClass:\"after-sales-item\"},[_c('div',{staticClass:\"mr10 nr row\"},[_c('van-field',{attrs:{\"rows\":\"3\",\"name\":\"reason\",\"autosize\":\"\",\"label\":\"退款说明\",\"type\":\"textarea\",\"placeholder\":\"请描述申请售后的具体原因，100字以内\",\"border\":false},model:{value:(_vm.remark),callback:function ($$v) {_vm.remark=$$v},expression:\"remark\"}})],1)]),_c('div',{staticClass:\"after-sales-item\"},[_vm._m(3),_c('div',{staticClass:\"upload-container\"},[_c('van-uploader',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"preview-size\":\"80px\",\"file-list\":_vm.fileList,\"max-count\":\"1\",\"after-read\":_vm.afterRead},on:{\"delete\":_vm.onDelete}})],1)])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hiddenOpt),expression:\"hiddenOpt\"}],staticClass:\"bg-primary white br60 btn\",on:{\"click\":_vm.onSubmit}},[_vm._v(\"申请退款\")]),_c('van-popup',{staticStyle:{\"height\":\"70%\"},attrs:{\"position\":\"bottom\",\"round\":\"\",\"closeable\":\"\"},model:{value:(_vm.showPopup),callback:function ($$v) {_vm.showPopup=$$v},expression:\"showPopup\"}},[_c('div',{staticClass:\"pop-container\"},[_c('div',{staticClass:\"pop-header row-center md normal\"},[_vm._v(\"退款原因\")]),_c('div',{staticClass:\"reason-box mt10\"},[_c('van-radio-group',{on:{\"change\":_vm.radioChange},model:{value:(_vm.reasonIndex),callback:function ($$v) {_vm.reasonIndex=$$v},expression:\"reasonIndex\"}},_vm._l((_vm.reason),function(item,index){return _c('label',{key:index,staticClass:\"reason-item row-between\",on:{\"click\":function($event){return _vm.hidePop(index)}}},[_c('div',{staticClass:\"reason-desc nr\"},[_vm._v(_vm._s(item))]),_c('van-radio',{attrs:{\"value\":index,\"name\":index,\"checked-color\":_vm.primaryColor}})],1)}),0)],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"lg\"},[_vm._v(\"仅退款\")]),_c('div',{staticClass:\"muted xs mt5\"},[_vm._v(\"未收到货，与卖家协商同意无需退货只需退款\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"lg\"},[_vm._v(\"退货退款\")]),_c('div',{staticClass:\"muted xs mt5\"},[_vm._v(\"已收到货，需退还收到的实物\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"arrow\"},[_c('img',{attrs:{\"src\":require(\"@A/images/arrow_right.png\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header nr row-between\"},[_c('div',[_vm._v(\"上传凭证\")]),_c('div',{staticStyle:{\"color\":\"#BBBBBB\"}},[_vm._v(\"（选填，最多可上传1张）\")])])}]\n\nexport { render, staticRenderFns }","// +----------------------------------------------------------------------\n// | LikeShop100%开源免费商用电商系统\n// +----------------------------------------------------------------------\n// | 欢迎阅读学习系统程序代码，建议反馈是我们前进的动力\n// | 开源版本可自由商用，可去除界面版权logo\n// | 商业版本务必购买商业授权，以免引起法律纠纷\n// | 禁止对系统程序代码以任何目的，任何形式的再发布\n// | Gitee下载：https://gitee.com/likemarket/likeshopv2\n// | 访问官网：https://www.likemarket.net\n// | 访问社区：https://home.likemarket.net\n// | 访问手册：http://doc.likemarket.net\n// | 微信公众号：好象科技\n// | 好象科技开发团队 版权所有 拥有最终解释权\n// +----------------------------------------------------------------------\n// | Author: LikeShopTeam\n// +----------------------------------------------------------------------\n\n<template>\n  <div class=\"apply-after-sales\">\n    <div class=\"goods-info row bg-white mt10\">\n      <div class=\"goods-img\">\n        <van-image width=\"100%\" height=\"100%\" lazy-load radius=\"3px\" :src=\"goods.image\" />\n      </div>\n      <div class=\"goods-desc\">\n        <div class=\"nr\">{{goods.goods_name}}</div>\n        <div class=\"muted xs mt5\">{{goods.spec_value}}</div>\n      </div>\n    </div>\n    <div class=\"opt-box mt10\" v-show=\"!hiddenOpt\">\n      <div class=\"opt-item row-between border-line\" @click=\"onlyRefund\">\n        <div>\n          <div class=\"lg\">仅退款</div>\n          <div class=\"muted xs mt5\">未收到货，与卖家协商同意无需退货只需退款</div>\n        </div>\n        <img class=\"arrow\" src=\"/images/arrow_right.png\" />\n      </div>\n      <div class=\"opt-item row-between\" @click=\"allRefunds\">\n        <div>\n          <div class=\"lg\">退货退款</div>\n          <div class=\"muted xs mt5\">已收到货，需退还收到的实物</div>\n        </div>\n        <img class=\"arrow\" src=\"/images/arrow_right.png\" />\n      </div>\n    </div>\n      <div class=\"after-sales-form-container bg-white mt10\" v-show=\"hiddenOpt\">\n        <div class=\"after-sales-item row-between\">\n          <div class=\"nr\">数量</div>\n          <div class=\"mr10 nr\">{{goods.goods_num}}</div>\n        </div>\n        <div class=\"after-sales-item row-between\">\n          <div class=\"nr\">退款金额</div>\n          <!-- <div class=\"mr10 nr primary\">￥69</div> -->\n          <div class=\"mr10\">\n            <price-slice :showSubscript=\"true\" subScriptClass=\"nr\" :color=\"primaryColor\" :price=\"goods.goods_price\" firstClass=\"nr\" secondClass=\"sm\"></price-slice>\n          </div>\n        </div>\n        <div class=\"after-sales-item row-between\" @click=\"showPopup = true\">\n          <div class=\"nr\">退款原因</div>\n          <div class=\"mr10 nr row\">\n            <div\n              class=\"mr5\"\n              :class=\"{'muted': reasonIndex == -1}\"\n            >{{reasonIndex == -1 ? '请选择' : reason[reasonIndex]}}</div>\n            <div class=\"arrow\">\n              <img src=\"@A/images/arrow_right.png\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"after-sales-item\">\n          <!-- <div class=\"nr\">退款说明</div> -->\n          <div class=\"mr10 nr row\">\n            <van-field\n              v-model=\"remark\"\n              rows=\"3\"\n              name=\"reason\"\n              autosize\n              label=\"退款说明\"\n              type=\"textarea\"\n              placeholder=\"请描述申请售后的具体原因，100字以内\"\n              :border=\"false\"\n            />\n          </div>\n        </div>\n        <div class=\"after-sales-item\">\n          <div class=\"header nr row-between\">\n            <div>上传凭证</div>\n            <div style=\"color:#BBBBBB\">（选填，最多可上传1张）</div>\n          </div>\n          <div class=\"upload-container\">\n            <van-uploader\n              preview-size=\"80px\"\n              style=\"margin-top: 15px\"\n              :file-list=\"fileList\"\n              max-count=\"1\"\n              :after-read=\"afterRead\"\n              @delete=\"onDelete\"\n            />\n          </div>\n        </div>\n      </div>\n      <button class=\"bg-primary white br60 btn\" v-show=\"hiddenOpt\" @click=\"onSubmit\">申请退款</button>\n    <van-popup v-model=\"showPopup\" position=\"bottom\" style=\"height: 70%\" round closeable>\n      <div class=\"pop-container\">\n        <div class=\"pop-header row-center md normal\">退款原因</div>\n        <div class=\"reason-box mt10\">\n          <van-radio-group @change=\"radioChange\" v-model=\"reasonIndex\">\n            <label\n              class=\"reason-item row-between\"\n              v-for=\"(item, index) in reason\"\n              :key=\"index\"\n              @click=\"hidePop(index)\"\n            >\n              <div class=\"reason-desc nr\">{{item}}</div>\n              <van-radio :value=\"index\" :name=\"index\" :checked-color=\"primaryColor\"></van-radio>\n            </label>\n          </van-radio-group>\n        </div>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { refundOPtType } from \"../../utils/type\";\nimport { getGoodsInfo, applyAfterSale, applyAgain } from \"../../api/user\";\nimport axios from \"axios\";\nimport { HTTP_URL, ACCESS_TOKEN } from \"@/configs\";\nimport {mapState} from 'vuex'\nexport default {\n  name: \"applyAfterSales\",\n  data() {\n    return {\n      hiddenOpt: false,\n      optTyle: refundOPtType.ONLY_REFUND,\n      goods: {},\n      reason: [],\n      showPopup: false,\n      reasonIndex: -1,\n      fileList: [],\n      remark: \"\",\n    };\n  },\n  methods: {\n    async afterRead(e) {\n        let uploadArr = [];\n        if (e.length) {\n            e.forEach((item) => {\n                uploadArr.push(this.uploadFile(item.file));\n            });\n        } else {\n            uploadArr.push(this.uploadFile(e.file));\n        }\n        Promise.all(uploadArr).then((res) => {\n            const { fileList = [] } = this;\n            fileList.push(...res);\n            this.$toast().clear();\n            this.fileList = fileList;\n        });\n    },\n    uploadFile(file) {\n        let params = new FormData();\n        params.append(\"file\", file);\n        console.log(file, '###', params);\n        return new Promise((resolve) => {\n            axios\n                .post(HTTP_URL + \"file/formimage\", params, {\n                    headers: { \n                      \"Content-Type\": \"multipart/form-data\",\n                      \"token\": this.token \n                    },\n                })\n                .then(({ data }) => {\n                    if (data.code == 1) {\n                        resolve(data.data);\n                    } else {\n                        this.$toast(\"上传失败，请重新上传\");\n                    }\n                });\n        });\n    },\n    onDelete(current) {\n        this.fileList = this.fileList.filter(item => item.name != current.name);\n    },\n    $getGoodsInfo() {    \n      getGoodsInfo({ order_id: this.orderId, item_id: this.itemId }).then((res) => {\n        if (res.code == 1) {\n          this.reason = res.data.reason;\n          this.goods = res.data.goods;\n        }\n      });\n    },\n    $applyAfterSale() {\n        let {itemId, orderId, reason, reasonIndex, optTyle, remark, fileList} = this;\n        console.log(fileList)\n        const data = {\n            item_id: this.itemId,\n            order_id: this.orderId,\n            reason: this.reason[this.reasonIndex],\n            refund_type: optTyle,\n            remark: remark,\n            img: fileList.length > 0 ? fileList[0].base_url : ''\n        }\n        applyAfterSale(data).then(res => {\n            if(res.code == 1) {\n                this.$toast({message: res.msg});\n                setTimeout(() => {\n                    this.$router.replace({name: 'afterSalesDetail', query: {\n                        after_sale_id: res.data.after_sale_id,\n                        order_id: this.orderId\n                    }})\n                }, 1000);\n            }\n        })\n    },\n    $applyAgain() {\n      let {reason, reasonIndex, optTyle, remark, fileList} = this;\n      const data = {\n        id: this.afterSaleId,\n        reason: reason[reasonIndex],\n        refund_type: optTyle,\n        remark: remark,\n        img: fileList\n      }\n      applyAgain(data).then(res => {\n        if(res.code == 1) {\n          this.$toast({message: res.msg});\n          setTimeout(() => {\n            this.$router.replace({name: 'afterSalesDetail', query: {\n              after_sale_id: res.data.after_sale_id,\n            }})\n          }, 1000)\n        }\n      })\n    },\n    onlyRefund() {\n      this.optTyle = refundOPtType.ONLY_REFUND;\n      this.hiddenOpt = true;\n    },\n    allRefunds() {\n      this.optTyle = refundOPtType.REFUNDS;\n      this.hiddenOpt = true;\n    },\n    onSubmit() {\n      if(this.reasonIndex == -1) {\n          this.$toast({message: '请选择退款原因'});\n          return;\n      }\n      if (this.afterSaleId) {\n        this.$applyAgain();\n      } else {\n        this.$applyAfterSale();\n      }\n    },\n    radioChange(e) {\n        console.log(e)\n    },\n    hidePop(index) {\n        this.showPopup = false;\n        this.reasonIndex = index;\n    },\n  },\n  created() {},\n  mounted() {\n    let { item_id, order_id, after_sale_id } = this.$route.query;\n    this.itemId = item_id;\n    this.orderId = order_id;\n    this.afterSaleId = after_sale_id;\n    this.$getGoodsInfo();\n  },\n  computed: {\n       ...mapState(['token'])\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\nimg {\n  width: 100%;\n  height: 100%;\n}\n.apply-after-sales {\n  .goods-info {\n    padding: 10px 12px;\n    .goods-img {\n      width: 80px;\n      height: 80px;\n      flex: none;\n    }\n    .goods-desc {\n      margin-left: 12px;\n      line-height: 20px;\n    }\n  }\n  .after-sales-form-container {\n    padding-left: 10px;\n    .after-sales-item:not(:last-of-type) {\n      padding: 12px 0px;\n      line-height: 18px;\n      border-bottom: 1px solid #f2f2f2;\n      .arrow {\n        width: 14px;\n        height: 14px;\n      }\n    }\n    .after-sales-item {\n      padding: 12px 0px;\n      line-height: 18px;\n      .arrow {\n        width: 14px;\n        height: 14px;\n      }\n    }\n  }\n  .btn {\n    padding: 10px 142.5px;\n    margin: 15px 13px 0;\n  }\n  .opt-box {\n    .opt-item {\n      padding: 10px 10px 10px 15px;\n      background-color: white;\n      .arrow {\n        width: 14px;\n        height: 14px;\n      }\n    }\n    .border-line {\n      border: 1px solid #f2f2f2;\n    }\n  }\n}\n.pop-header {\n  line-height: 21px;\n  padding: 15px;\n}\n.reason-box {\n  .reason-item {\n    padding: 12px 10px;\n    .reason-desc {\n      line-height: 23px;\n    }\n  }\n}\n\n.van-cell/deep/ {\n  padding: 0;\n  .van-field__label {\n    width: auto;\n    padding: 10px 0;\n    span {\n      color: #333333;\n    }\n  }\n  .van-field__value {\n    .van-field__body {\n      background-color: #f9f6f9;\n      border-radius: 10px;\n      font-size: 14px;\n      textarea {\n        padding: 10px;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyAfterSales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyAfterSales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./applyAfterSales.vue?vue&type=template&id=01ca6e11&scoped=true&\"\nimport script from \"./applyAfterSales.vue?vue&type=script&lang=js&\"\nexport * from \"./applyAfterSales.vue?vue&type=script&lang=js&\"\nimport style0 from \"./applyAfterSales.vue?vue&type=style&index=0&id=01ca6e11&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01ca6e11\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}